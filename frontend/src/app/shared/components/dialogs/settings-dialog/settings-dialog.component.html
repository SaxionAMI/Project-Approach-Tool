<div id="buttons-container" class="flex">
  <button mat-icon-button [matMenuTriggerFor]="menu" id="action-menu" class="top-button">
    <mat-icon>more_vert</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="onExport()">
      <mat-icon>file_download</mat-icon>
      <span>Export my data</span>
    </button>
    <button mat-menu-item (click)="onDeleteAccount()">
      <mat-icon>delete_forever</mat-icon>
      <span>Delete my account</span>
    </button>
  </mat-menu>
  <h3 class="flex-grow" id="title">Change personal data</h3>
  <button mat-icon-button (click)="onClose()" class="top-button">
    <mat-icon>close</mat-icon>
  </button>
</div>



<mat-form-field matInput>
  <mat-label>first name</mat-label>
  <input
    matInput
    #firstName
    type="text"
    maxlength="60"
    name="firstName"
    [formControl]="firstNameControl"
    required
  />
  <mat-error *ngIf="firstNameControl.invalid"
    >You must enter a valid first name</mat-error
  >
  <mat-hint align="end">{{ firstName.value.length }} / 60</mat-hint>
</mat-form-field>
<mat-form-field matInput>
  <mat-label>last name</mat-label>
  <input
    matInput
    #lastName
    type="text"
    maxlength="60"
    name="lastName"
    [formControl]="lastNameControl"
    required
  />
  <mat-error *ngIf="lastNameControl.invalid"
    >You must enter a valid last name</mat-error
  >
  <mat-hint align="end">{{ lastName.value.length }} / 60</mat-hint>
</mat-form-field>

<mat-form-field matInput>
  <mat-label>School</mat-label>
  <input
    matInput
    #school
    type="text"
    maxlength="60"
    name="school"
    [formControl]="schoolControl"
    required
  />
  <mat-error *ngIf="schoolControl.invalid"
    >You must enter a valid school</mat-error
  >
  <mat-hint align="end">{{ school.value.length }} / 60</mat-hint>
</mat-form-field>
<mat-form-field matInput>
  <mat-label>Study</mat-label>
  <input
    matInput
    #study
    type="text"
    maxlength="60"
    name="study"
    [formControl]="studyControl"
    required
  />
  <mat-error *ngIf="studyControl.invalid"
    >You must enter a valid study</mat-error
  >
  <mat-hint align="end">{{ study.value.length }} / 60</mat-hint>
</mat-form-field>
<mat-form-field matInput>
  <mat-label>Role</mat-label>
  <input
    matInput
    #role
    type="text"
    name="role"
    [formControl]="roleControl"
    readonly
  />
</mat-form-field>
<button mat-raised-button color="primary" (click)="onSave()" id="save">Save & close</button>
